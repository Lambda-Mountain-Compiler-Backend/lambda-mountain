
as-branch-conditional := Î»(: f Fragment)(: sloc AST). (: (
   (let ft (.type f))
   (match (slot( ft 'BranchConditional_s )) (
      ()
      ( (TGround( 'BranchConditional_s _ )) () )
      ( _ (
         (set f (fragment-apply(
            (open(.context f)) (.offset f) 'as-branch-conditional_s
            (FLSeq( (close FLEOF) f )) (t3( 'Arrow_s ft (t1 'BranchConditional_s) )) sloc
         )))
      ))
   ))
   f
) Fragment);
