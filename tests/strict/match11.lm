
import STDLIB/default-instruction-set.lm;
import STDLIB/default-primitives.lm;
import STDLIB/default-rules.lm;
import STDLIB/default-stdlib.lm;

type A (A( U64 ));
type B (B( A , U64 ));
type C (C( A , B , U64 ));

main := Î»(: argc U64)(: argv U8[][]).(tail(
   (match (A( 1_u64 )) (
      ()
      ( (A( x )) (print x) )
   ))
   (match (B( (A( 1_u64 )) 2_u64 )) (
      ()
      ( (B( (A( x )) y )) (print x) )
   ))
   (match (C( (A( 1_u64 )) (B( (A( 4_u64 )) 2_u64 )) 3_u64 )) (
      ()
      ( (C( (A( x )) (*(y z)) )) (print x) )
   ))
));
