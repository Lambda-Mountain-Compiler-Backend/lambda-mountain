
import STDLIB/default-instruction-set.lm;
import STDLIB/default-primitives.lm;
import STDLIB/default-rules.lm;
import STDLIB/default-stdlib.lm;

import STRICT/utility.lm;

config-preprocess            := 2_u8;

main := Î»(: argc U64)(: argv U8[][]).(tail(
   (print( (==( '--macro_s '--macro_s )) ))
   (print( (==( '--macro_s '--nomacro_s )) ))
   (print( (==( '--nomacro_s '--macro_s )) ))
   (print( (==( '--nomacro_s '--nomacro_s )) ))
   (match '--nomacro_s (
      ()
      ('--macro_s (set config-preprocess 1_u8))
      ('--nomacro_s (set config-preprocess 0_u8))
   ))
   (print config-preprocess)
));
